# Example Mapping для истории 1: Напоминание о предстоящей прививке

## История
**Как** владелец котика  
**Я хочу** получать напоминание о дате следующей прививки за 2 недели  
**Чтобы** не пропустить важную дату и подготовиться к визиту в ветеринарную клинику

---

## Правила

### Правило 1: Каналы уведомлений
Можно получать напоминания в разных каналах (СМС, Google календарь, Telegram)

**Пример 1.1: СМС**
- Дата отправки: 1 марта 2026 в 10:00
- Текст: "Через 2 недели, 15 марта 2026 г нужно вакцинировать кота. Запишись в клинику."

**Пример 1.2: Google календарь**
- Название: Привить кота
- Дата/время: 15 марта 2026 года, 10:00-11:00
- Напоминание: за 2 недели
- Описание: "15 марта 2026 г нужно вакцинировать кота. Запишись в клинику."

**Пример 1.3: Telegram**
- Дата отправки: 1 марта 2026 года в 10:00
- Текст: "Через 2 недели, 15 марта 2026 г нужно вакцинировать кота. Запишись в клинику."

### Правило 2: Расчет даты напоминания
Напоминание отправляется за 2 недели (14 дней) до даты прививки

**Пример 2.1:**
- Дата прививки: 15 марта 2026
- Дата напоминания: 1 марта 2026 (15 марта - 14 дней)

**Пример 2.2:**
- Дата прививки: 1 апреля 2026
- Дата напоминания: 18 марта 2026 (1 апреля - 14 дней)

### Правило 3: Определение даты следующей прививки
Дата следующей прививки рассчитывается от даты последней прививки + интервал (например, 1 год)

**Пример 3.1:**
- Последняя прививка: 15 марта 2025
- Интервал: 1 год
- Следующая прививка: 15 марта 2026

**Пример 3.2:**
- Последняя прививка: 20 февраля 2025
- Интервал: 1 год
- Следующая прививка: 20 февраля 2026

### Правило 4: Информация о питомце в напоминании
В напоминании должна быть указана информация, позволяющая идентифицировать питомца

**Пример 4.1:**
- Текст: "Через 2 недели, 15 марта 2026 г нужно вакцинировать кота Барсика. Запишись в клинику."

**Пример 4.2:**
- Если несколько питомцев: "Через 2 недели, 15 марта 2026 г нужно вакцинировать кота Барсика. Запишись в клинику."

### Правило 5: Время отправки напоминания
Напоминание отправляется в установленное время (например, 10:00)

**Пример 5.1:**
- Дата напоминания: 1 марта 2026
- Время отправки: 10:00
- Получено: 1 марта 2026 в 10:00

---

## Вопросы

1. Что делать, если дата прививки уже прошла, но прививка не была отмечена как выполненная?
2. Что делать, если у пользователя несколько питомцев с прививками в один день?
3. Нужно ли отправлять напоминание, если прививка уже была отмечена как выполненная?
4. Что делать, если пользователь не настроил ни один канал уведомлений?
5. Какой интервал между прививками по умолчанию (1 год, другой)?
6. Нужно ли учитывать тип прививки (комплексная, от бешенства и т.д.)?
7. Что делать, если дата напоминания попадает на выходной/праздничный день?

---

## Граничные случаи

### Граничный случай 1: Прививка уже выполнена
- **Сценарий**: Пользователь уже сделал прививку до даты напоминания
- **Ожидаемое поведение**: Напоминание не отправляется

### Граничный случай 2: Дата прививки в прошлом
- **Сценарий**: Дата следующей прививки уже прошла, но не отмечена как выполненная
- **Ожидаемое поведение**: Отправить срочное напоминание или уведомление о пропущенной дате

### Граничный случай 3: Несколько питомцев
- **Сценарий**: У пользователя 2 кота, обоим нужна прививка в один день
- **Ожидаемое поведение**: Отправить отдельные напоминания для каждого питомца или одно объединенное

### Граничный случай 4: Нет настроенных каналов
- **Сценарий**: Пользователь не настроил ни один канал уведомлений
- **Ожидаемое поведение**: Показать предупреждение в интерфейсе или использовать канал по умолчанию

### Граничный случай 5: Первая прививка
- **Сценарий**: У питомца еще не было прививок, но добавлена дата первой прививки
- **Ожидаемое поведение**: Отправить напоминание за 2 недели до указанной даты
